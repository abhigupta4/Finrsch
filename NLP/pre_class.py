# def find_before(sent):
import nltk

def check(li):
	flag = 0
	prep = []
	for i in xrange(len(li)):
		if li[i][1] == 'IN':
			prep.append(i)
			flag = 1

	if not flag:
		print 'Preposition not found'
	else:
		for ele in prep:
			print "Preposition is: " + li[ele][0]
			for j in xrange(ele,-1,-1):
				if 'NN' in li[j][1]:
					print 'Noun before: ' + li[j][0]
					break

			for j in xrange(ele,len(li)):
				if 'NN' in li[j][1]:
					print 'Noun after: ' + li[j][0] 
					break

			print

#Before converting the tags of the sentences in examples_list
di_before = {'towards': [['movement', 'movement closer to something', ['Laughing, she threw up her hands and ran toward the park']]], 'on account of': [['reason', 'describes why something has occurred or will occur', ['The employees refused to work on account of their low pay']]], 'around': [['movement', 'movement in a circular direction', ['The couple held hands and skated around the rink']]], 'behind': [['place', 'something at the back of something', ['I stood behind my sister while we waited in line']]], 'on': [['time', 'days and dates', ['On Tuesday, Dad went to the grocery store',"Valentine's Day is on February 14"]], ['place', 'surfaces or tops of things', ['Leave the towel on the counter']], ['instrument', 'describing certain technologies, machines, or devices', ['May I finish my homework on your computer']]], 'over': [['place', 'something higher than something', ["The arch above the hallway reminded Natalie of a castle she'd visited"]], ['movement', 'movement higher than and across something else', ['The bird flew over the tree']]], 'after': [['time', 'something following a specific time or event', ['Katrina made a promise to help out after work today']]], 'because of': [['reason', 'describes why something has occurred or will occur', ['Because of the delay, I was late to the parade']]], 'past': [['time', 'time in relation to the previous hour of the day', ['Ideally, the party would start no later than a quarter past eight']]], 'through': [['movement', 'movement from one side of an enclosed space and out of the other', ['The burglar entered the house through the basement window']], ['reason', 'describes why something has occurred or will occur', ['Through her bravery, we were able to escape unharmed']]], 'at': [['time', 'specific and short times of day', ["Let's meet at noon","Chris arrived at one o'clock."]], ['place', 'specific points or locations', ['Ben is planning on staying the night at a hotel']]], 'in': [['time', 'months, years, and specific times of day', ['Beth starts school in August',"In 2008, the U.S. held a presidential election","I would rather work on the project in the afternoon"]], ['place', 'enclosed spaces', ['The rice is in the cabinet']]], 'during': [['time', 'simultaneous events', ["We're not supposed to study during class"]]], 'along': [['movement', 'movement on a straight line or edge', ['The childhood friends rode their bicycles along the road']]], 'with': [['agency', 'a thing that has caused or is causing something to occur', ['Her heart is filled with emotion']], ['instrument', 'describing certain technologies, machines, or devices', ['She opened the locked door with an old key']], ['connection', 'describes accompaniment', ['Lisa wanted to go to the concert with Victor']]], 'by': [['time', 'a specific point in the future before which an event must be completed', ["You must wake up by six o'clock tomorrow morning"]], ['place', 'lack of distance', ['The library is by the train station']], ['agency', 'a person has caused or is causing something to occur', ['The house was built by the three siblings']], ['instrument', 'describing certain technologies, machines, or devices', ['Aunt Patricia returned home by ferry']]], 'out of': [['movement', 'movement ending outside something', ['Get out of that cave before the bear comes back']]], 'close to': [['place', 'lack of distance', ['The library is by the train station']]], 'in front of': [['place', 'something situated before something', ["Let's put the dresser in front of the window"]]], 'down': [['movement', 'movement heading down', ['He jumped down and hurt his knee']]], 'toward': [['movement', 'movement closer to something', ['Laughing, she threw up her hands and ran toward the park']]], 'from': [['movement', 'movement with a specific point of origin', ['She told stories about the time she walked to Spain from France']], ['reason', 'describes why something has occurred or will occur', ['He knows from experience how to deal with them']], ['origin', "describe a person or thing's origin", ['I met the most delightful couple from Italy',"I'm from New York originally, but I've lived in Dallas for many years","The new computer from the tech giant should be revolutionary"]]], 'for': [['time', 'durations of time', ['He lived abroad for many year']], ['reason', 'describes why something has occurred or will occur', ['Everything I did was for yo']]], 'away from': [['movement', 'movement farther from something', ['Get away from the fire before you get burned']]], 'off': [['movement', 'movement down or away from something', ['Parents are always yelling at their kids to get off the furniture']]], 'into': [['movement', 'movement ending inside something', ['If you jump into the water like this, you can make a big splash']]], 'since': [['time', 'a continuous event originating from a specific point in the past', ["She's been waiting to hear back from the office since yesterday"]]], 'up': [['movement', 'movement heading up', ['When you use a fireplace, smoke goes up the chimneyd']]], 'until': [['time', 'a continuous event that will terminate at a specific point in the future', ["Daniel can't sneak out of the house until his parents go to bed"]]], 'beside': [['place', 'adjacency', ['Many people consider it rude to sit beside a stranger in a movie theater']]], 'to': [['time', 'time in relation to the next hour of the day', ["My watch says it's 10 minutes to three right now"]], ['movement', 'movement with a specific aim, direction, or destination', ['My brother went to Europe with his friend']], ['connection', 'describes relationships between people or things', ['A well-written essay is impressive to teacher']]], 'near': [['place', 'lack of distance', ['The library is by the train station']]], 'of': [['connection', 'describes possession', ['The Statue of Liberty is located in New York Harbor']], ['origin', "describe a person or thing's origin", ['The new computer from the tech giant should be revolutionary']]], 'below': [['place', 'something lower than something', ['All children fear the monsters below their bed']]], 'above': [['place', 'something higher than something', ["The arch above the hallway reminded Natalie of a castle she'd visited"]], ['movement', 'movement to a point higher than something else', ['He shot his arrow above the target']]], 'between': [['place', 'something in the middle of two people or things', ['To make a sandwich, simply put something between two slices of bread']]], 'next to': [['place', 'adjacency', ['Many people consider it rude to sit beside a stranger in a movie theater']]], 'under': [['place', 'something lower than something', ['All children fear the monsters below their bed']], ['movement', 'movement lower than something', ['That large worm went under the dirt']]], 'beneath': [['movement', 'movement lower than something', ['That large worm went under the dirt']]], 'before': [['time', 'something prior to a specific time or event', ['The moon rose before sunset']]], 'onto': [['movement', 'movement ending on top of something', ['Be careful climbing onto that ledge']]], 'across': [['movement', 'movement from one end to the other', ['I walked across the flimsy bridge']]]}


di_after = {'before': [['time', 'something prior to a specific time or event', ['<DT><NN><VBD><IN><NN>']]], 'towards': [['movement', 'movement closer to something', ['<VBG><,><PRP><VBD><RP><PRP$><NNS><CC><VBD><IN><DT><NN>']]], 'on account of': [['reason', 'describes why something has occurred or will occur', ['<DT><NNS><VBD><TO><VB><IN><NN><IN><PRP$><JJ><NN>']]], 'around': [['movement', 'movement in a circular direction', ['<DT><NN><VBD><NNS><CC><VBD><IN><DT><NN>']]], 'over': [['place', 'something higher than something', ['<DT><NN><IN><DT><NN><VBD><NNP><IN><DT><NN><PRP><MD><VB>']], ['movement', 'movement higher than and across something else', ['<DT><NN><NN><IN><DT><NN>']]], 'after': [['time', 'something following a specific time or event', ['<NNP><VBD><DT><NN><TO><VB><RP><IN><NN><NN>']]], 'near': [['place', 'lack of distance', ['<DT><NN><VBZ><IN><DT><NN><NN>']]], 'up': [['movement', 'movement heading up', ['<WRB><PRP><VBP><DT><NN><,><NN><VBZ><RP><DT><NN>']]], 'past': [['time', 'time in relation to the previous hour of the day', ['<RB><,><DT><NN><MD><VB><DT><JJ><IN><DT><NN><NN><CD>']]], 'across': [['movement', 'movement from one end to the other', ['<PRP><VBD><IN><DT><NN><NN>']]], 'under': [['place', 'something lower than something', ['<DT><NNS><VBP><DT><NNS><IN><PRP$><NN>']], ['movement', 'movement lower than something', ['<DT><JJ><NN><NN><IN><DT><NN>']]], 'through': [['movement', 'movement from one side of an enclosed space and out of the other', ['<DT><JJ><VBN><DT><NN><IN><DT><NN><NN>']], ['reason', 'describes why something has occurred or will occur', ['<IN><PRP$><NN><,><PRP><VBD><JJ><TO><NN><VBN>']]], 'at': [['time', 'specific and short times of day', ['<NNP><POS><NN><IN><NN>', '<NNP><VBD><IN><CD><JJ><.>']], ['place', 'specific points or locations', ['<NNP><VBZ><VBG><IN><VBG><DT><NN><IN><DT><NN>']]], 'in': [['time', 'months, years, and specific times of day', ['<NNP><VBZ><NN><IN><NNP>', '<IN><CD><,><DT><NNP><NN><DT><JJ><NN>', '<PRP><MD><RB><VB><IN><DT><NN><IN><DT><NN>']], ['place', 'enclosed spaces', ['<DT><NN><VBZ><IN><DT><NN>']]], 'between': [['place', 'something in the middle of two people or things', ['<TO><VB><DT><NN><,><RB><VBD><NN><IN><CD><NNS><IN><NN>']]], 'during': [['time', 'simultaneous events', ['<PRP><VBP><RB><VBN><TO><NN><IN><NN>']]], 'along': [['movement', 'movement on a straight line or edge', ['<DT><NN><NNS><VBP><PRP$><NNS><IN><DT><NN>']]], 'with': [['agency', 'a thing that has caused or is causing something to occur', ['<PRP$><NN><VBZ><VBN><IN><NN>']], ['instrument', 'describing certain technologies, machines, or devices', ['<PRP><VBD><DT><VBN><NN><IN><DT><JJ><JJ>']], ['connection', 'describes accompaniment', ['<NNP><VBD><TO><VB><TO><DT><NN><IN><NNP>']]], 'by': [['time', 'a specific point in the future before which an event must be completed', ['<PRP><MD><VB><RP><IN><CD><JJ><NN><NN>']], ['place', 'lack of distance', ['<DT><NN><VBZ><IN><DT><NN><NN>']], ['agency', 'a person has caused or is causing something to occur', ['<DT><NN><VBD><VBN><IN><DT><CD><NNS>']], ['instrument', 'describing certain technologies, machines, or devices', ['<NNP><NNP><VBD><NN><IN><NN>']]], 'down': [['movement', 'movement heading down', ['<PRP><VBD><RP><CC><VBN><PRP$><NN>']]], 'close to': [['place', 'lack of distance', ['<DT><NN><VBZ><IN><DT><NN><NN>']]], 'in front of': [['place', 'something situated before something', ['<NNP><POS><NN><DT><NN><IN><NN><IN><DT><NN>']]], 'on': [['time', 'days and dates', ['<IN><NNP><,><NNP><VBD><TO><DT><NN><NN>', '<NNP><POS><NNP><VBZ><IN><NNP><CD>']], ['place', 'surfaces or tops of things', ['<NNP><DT><NN><IN><DT><NN>']], ['instrument', 'describing certain technologies, machines, or devices', ['<NNP><PRP><VBP><PRP$><NN><IN><PRP$><NN>']]], 'from': [['movement', 'movement with a specific point of origin', ['<PRP><VBD><NNS><IN><DT><NN><PRP><VBD><TO><NNP><IN><NNP>']], ['reason', 'describes why something has occurred or will occur', ['<PRP><VBZ><IN><NN><WRB><TO><VB><IN><PRP>']], ['origin', "describe a person or thing's origin", ['<PRP><VBD><DT><JJS><JJ><NN><IN><NNP>', '<PRP><VBP><IN><NNP><NNP><RB><,><CC><PRP><VBP><VBN><IN><NNP><IN><JJ><NNS>', '<DT><JJ><NN><IN><DT><NN><NN><MD><VB><JJ>']]], 'for': [['time', 'durations of time', ['<PRP><VBD><RB><IN><JJ><NN>']], ['reason', 'describes why something has occurred or will occur', ['<NN><PRP><VBD><VBD><IN><NN>']]], 'away from': [['movement', 'movement farther from something', ['<NN><RB><IN><DT><NN><IN><PRP><VBP><VBP>']]], 'off': [['movement', 'movement down or away from something', ['<NNS><VBP><RB><VBG><IN><PRP$><NNS><TO><VB><RP><DT><NN>']]], 'since': [['time', 'a continuous event originating from a specific point in the past', ['<PRP><VBZ><VBN><VBG><TO><VB><RB><IN><DT><NN><IN><NN>']]], 'because of': [['reason', 'describes why something has occurred or will occur', ['<IN><IN><DT><NN><,><PRP><VBD><JJ><TO><DT><NN>']]], 'until': [['time', 'a continuous event that will terminate at a specific point in the future', ['<NNP><MD><RB><VB><RP><IN><DT><NN><IN><PRP$><NNS><VBP><TO><VBN>']]], 'beside': [['place', 'adjacency', ['<JJ><NNS><VBP><PRP><VBP><TO><VB><JJ><DT><NN><IN><DT><NN><NN>']]], 'to': [['time', 'time in relation to the next hour of the day', ['<PRP$><NN><VBZ><PRP><VBZ><CD><NNS><TO><CD><RB><RB>']], ['movement', 'movement with a specific aim, direction, or destination', ['<PRP$><NN><VBD><TO><NNP><IN><PRP$><NN>']], ['connection', 'describes relationships between people or things', ['<DT><JJ><NN><VBZ><JJ><TO><NN>']]], 'behind': [['place', 'something at the back of something', ['<PRP><VBD><IN><PRP$><NN><IN><PRP><VBD><IN><NN>']]], 'below': [['place', 'something lower than something', ['<DT><NNS><VBP><DT><NNS><IN><PRP$><VBN>']]], 'above': [['place', 'something higher than something', ['<DT><NN><IN><DT><NN><VBD><NNP><IN><DT><NN><PRP><MD><VB>']], ['movement', 'movement to a point higher than something else', ['<PRP><VBD><PRP$><NN><IN><DT><NN>']]], 'of': [['connection', 'describes possession', ['<DT><NNP><IN><NNP><VBZ><VBN><IN><NNP><NNP><NNP>']], ['origin', "describe a person or thing's origin", ['<DT><JJ><NN><IN><DT><NN><NN><MD><VB><JJ>']]], 'next to': [['place', 'adjacency', ['<JJ><NNS><VBP><PRP><VBP><TO><VB><JJ><DT><NN><IN><DT><NN><NN>']]], 'out of': [['movement', 'movement ending outside something', ['<NN><IN><IN><DT><NN><IN><DT><JJ><NNS><RB>']]], 'beneath': [['movement', 'movement lower than something', ['<DT><JJ><NN><NN><IN><DT><NN>']]], 'toward': [['movement', 'movement closer to something', ['<VBG><,><PRP><VBD><RP><PRP$><NNS><CC><VBD><IN><DT><NN>']]], 'onto': [['movement', 'movement ending on top of something', ['<VB><JJ><NN><IN><DT><NN>']]], 'into': [['movement', 'movement ending inside something', ['<IN><PRP><VBP><IN><DT><NN><IN><DT><,><PRP><MD><VB><DT><JJ><NN>']]]}
#After the conversion of the sentences in the examples_list

for ele in di_before.keys():
	for i in xrange(len(di_before[ele])):
		a,b,c = di_before[ele][i]
		for sent1 in c:
			text = nltk.word_tokenize(sent1)
			tags = nltk.pos_tag(text)
			print tags
			print
			check(tags)
			print